{% extends 'base.html' %}
{% load static %}

<!DOCTYPE HTML>
<html>
  <head>
    <title>Call for Proposal</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="assets/css/main.css" />
    <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
    <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
  </head>
  <body>


      {% block header %}
       <header id="header1">
            <h1>SciPy India 2016</h1>
            <h2>Reset Password</h2>
</header> 
{% endblock %}


{% block nav %}

<div id="navbar-main"> 
  <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
         <li><a href="{% url 'website:home' %}" class="active">Home</a></li>        
        </ul>
      </div>
  </div>
</div>
{% endblock %}



{% block content %}
<div id="wrapper">
<div id="main">
<section id="content" class="main">
    {% if validlink %}
    <br>
   <p>Please enter your new password twice.</p>
           <br>
        <form action="" method="post">
            <div style="display:none">
                <input type="hidden" value="{{ csrf_token }}" name="csrfmiddlewaretoken">
            </div>
            <table>
                <tr>
                    <td>{{ form.new_password1.errors }}
                        <label for="id_new_password1" >New password:</label></td>
                    <td>{{ form.new_password1 }}</td>
                </tr>
                <tr>
                    <td>{{ form.new_password2.errors }}
                        <label for="id_new_password2" >Confirm password:</label></td>
                    <td>{{ form.new_password2 }}</td>
                </tr>
                <tr>
                    <td></td>
                    <td><br> <button class= "btn btn-sm btn-primary" type="submit" onclick="return checkform(this);">Submit</button> 
                </tr>
                <br>
            </table>
        </form>
    {% else %}
        <p>The password reset link is invalid,
        possibly because it has already been used. <br />
        Please request a new password reset.</p><br/>
    {% endif %}
</section>
</div>
</div>

<script>
function checkform(form) { 
    // alert("in");
    var pwd1 = document.getElementById("id_new_password1");
    // alert(pwd1.value);
    var pwd2 = document.getElementById("id_new_password2");
    //return false;
    if(pwd1.value.length && pwd2.value.length < 8) { 
     
        alert("Error: Password must contain at least eight characters!"); 
        pwd1.focus();     
        pwd1.value = "";
        pwd2.value = "";
        return false;      
    }   
}

</script>
{% endblock %}
